{
 "absolute_value": 0,
 "align_labels_right": 0,
 "creation": "2025-04-04 12:26:39.031934",
 "custom_format": 0,
 "default_print_language": "en",
 "disabled": 0,
 "doc_type": "Sales Invoice",
 "docstatus": 0,
 "doctype": "Print Format",
 "font_size": 14,
 "format_data": "[{\"fieldname\": \"print_heading_template\", \"fieldtype\": \"Custom HTML\", \"options\": \"{% set logo_for_printing = frappe.db.get_value(\\\"Company\\\",doc.company,\\\"logo_for_printing\\\") %}\\n\\n<table style=\\\"width: 100%; margin-top:-25px\\\">\\n    <tbody>\\n        <tr>\\n            <td style=\\\"padding:0px !important;\\\"></td>\\n            <td style=\\\"width: 40%; text-align: right; vertical-align: top;\\\">\\n                <h4 style=\\\"margin-top:0px !important;  margin-bottom:2px; display: inline-block;\\\">\\n                    <b>{{ doc.select_print_heading if doc.select_print_heading else 'Tax Invoice' }}</b> <br />\\n                    <small style=\\\"font-weight: 700;\\\"> {{ doc.name }} </small>\\n                </h4>\\n\\n            </td>\\n        </tr>\\n    </tbody>\\n</table>\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"<div  style=\\\"padding-bottom:5px !important; margin-top:-50px ;line-height:1.2; font-size: 12px;\\\">\\n\\t<!-- Billing Address -->\\n\\t{% if not doc.shipping_address or doc.address_display == doc.shipping_address %}\\n\\t\\t<p> Billing and Shipping Address</p>\\n\\t{% else %}\\n\\t\\t<p>Billed To</p>\\n\\t{% endif %} \\n\\t{% if doc.customer_name %}\\n\\t\\t<p><b>{{ doc.customer}}</b></p>\\n\\t{% endif %}\\n\\n\\t<p>{{ doc.address_display if doc.address_display else '' }}</p>\\n\\n\\t<!-- shipping Address -->\\n\\t{% if doc.shipping_address and doc.address_display !=\\n\\t\\tdoc.shipping_address %}\\n\\t\\t<p style=\\\"padding-top:10px !important\\\">Shipped To</p>\\n\\t\\t\\t{% if doc.dispatch_address_name %}\\n\\t\\t\\t\\t<p><b>{{ doc.dispatch_address_name }}</b></p>\\n\\t\\t\\t{% endif %}\\n\\t\\t<p>{{ doc.shipping_address }}</p>\\n\\t{% endif %}\\n</div>\\n{% if doc.place_of_supply %}\\n<div style=\\\"margin-top:12px\\\"><span style=\\\"color:#424961\\\"> Place of Supply </span> : {{ doc.place_of_supply }}\\n </div> \\n{% endif %}\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"<!-- Delivery Note Reference -->\\n{% set delivery_note_list = [] %}\\n{% for item in doc.items %}\\n    {% if item.delivery_note and item.delivery_note not in delivery_note_list %}\\n        {% set _ = delivery_note_list.append(item.delivery_note) %}\\n    {% endif %}\\n{% endfor %}\\n\\n{% if delivery_note_list %}\\n    <div class=\\\"first_section_second_column\\\">\\n        <p><b>Delivery Note Reference</b></p>\\n        {% for dn in delivery_note_list %}\\n            {% set dn_date = frappe.db.get_value('Delivery Note', dn, 'posting_date') %}\\n            <p> {{ dn }} dtd. {{ frappe.utils.formatdate(dn_date, 'dd-MM-yyyy') }}</p>\\n        {% endfor %}\\n    </div>\\n{% endif %}\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"<!--Purchase Order Reference-->\\n\\n<!--<div class=\\\"first_section_second_column\\\" style=\\\"display: grid; grid-template-columns: auto 1fr; align-items: center; gap: 8px;\\\">-->\\n<!--\\t<p  style=\\\"margin: 0;\\\"><b>Purchase Order</b> : </p>-->\\n<!--\\t<span style=\\\"flex-grow: 1;\\\">{{ doc.po_no }}</span>-->\\n<!--</div>-->\\n<div style=\\\"font-size: 12px;\\\">\\n{% if doc.posting_date %}\\n<div class=\\\"first_section_second_column\\\" style=\\\"display: flex; justify-content: space-between; width: 100%; margin-bottom: 6px;\\\">\\n  <div style=\\\"width: 110px; text-align: left;\\\">\\n    <p style=\\\"margin: 0;\\\"><b>Invoice Date</b>:</p>\\n  </div>\\n  <div style=\\\"flex-grow: 1; text-align: right;\\\">\\n    <span>{{ doc.get_formatted(\\\"posting_date\\\")}}</span>\\n  </div>\\n</div>\\n{% endif %}\\n{% if doc.due_date %}\\n<div class=\\\"first_section_second_column\\\" style=\\\"display: flex; justify-content: space-between; width: 100%; margin-bottom: 6px;\\\">\\n  <div style=\\\"width: 110px; text-align: left;\\\">\\n    <p style=\\\"margin: 0; \\\"><b>Due Date</b>:</p>\\n  </div>\\n  <div style=\\\"flex-grow: 1; text-align: right;\\\">\\n    <span>{{ doc.get_formatted(\\\"due_date\\\")}}</span>\\n  </div>\\n</div>\\n{% endif %}\\n\\n    \\n{% if doc.po_no %}\\n<div class=\\\"first_section_second_column\\\" style=\\\"display: flex; justify-content: space-between; width: 100%; margin-bottom: 6px;\\\">\\n  <div style=\\\"width: 80px; text-align: left;\\\">\\n    <p style=\\\"margin: 0;\\\"><b>PO No.</b> :</p>\\n  </div>\\n  <div style=\\\"flex-grow: 1; text-align: right;\\\">\\n    <span>{{ doc.po_no }}</span>\\n  </div>\\n</div>\\n{% endif %}\\n{% if doc.po_date %}\\n<div class=\\\"first_section_second_column\\\" style=\\\"display: flex; justify-content: space-between; width: 100%;margin-bottom: 6px;\\\">\\n  <div style=\\\"width: 110px; text-align: left;\\\">\\n    <p style=\\\"margin: 0;\\\"><b>PO Date</b> :</p>\\n  </div>\\n  <div style=\\\"flex-grow: 1; text-align: right;\\\">\\n    <span>{{ doc.get_formatted(\\\"po_date\\\") }}</span>\\n  </div>\\n</div>\\n{% endif %}\\n\\n\\n{% if doc.custom_start_date %}\\n<div class=\\\"first_section_second_column\\\" style=\\\"display: flex; justify-content: space-between; width: 100%; margin-bottom: 6px;\\\">\\n  <div style=\\\"width: 110px; text-align: left;\\\">\\n    <p style=\\\"margin: 0;\\\"><b>Start Date</b>:</p>\\n  </div>\\n  <div style=\\\"flex-grow: 1; text-align: right;\\\">\\n    <span>{{ doc.get_formatted(\\\"custom_start_date\\\")}}</span>\\n  </div>\\n</div>\\n{% endif %}\\n{% if doc.custom_end_date %}\\n<div class=\\\"first_section_second_column\\\" style=\\\"display: flex; justify-content: space-between; width: 100%; margin-bottom: 6px;\\\">\\n  <div style=\\\"width: 110px; text-align: left;\\\">\\n    <p style=\\\"margin: 0;\\\"><b>End Date</b>:</p>\\n  </div>\\n  <div style=\\\"flex-grow: 1; text-align: right;\\\">\\n    <span>{{ doc.get_formatted(\\\"custom_end_date\\\")}}</span>\\n  </div>\\n</div>\\n{% endif %}\\n</div>\\n\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"\\n{% set circuit_id_exists = doc.items | selectattr('custom_circuit_id') | list | length > 0 %}\\n\\n\\n<style>\\n        #invoiceTable {\\n            margin-top:15px;\\n            width: 100%;\\n            font-size: 12px;\\n            border-collapse: collapse;\\n        }\\n        #invoiceTable th {\\n            border: 1px solid #D0D0D0;\\n            font-size: 12px !important;\\n            padding: 3px;\\n            text-align: left;\\n            font-weight: bold;\\n            /*font-size: 12px;*/\\n            color: #424961;\\n        }\\n        #invoiceTable td {\\n            border-left: 1px solid #D0D0D0;\\n            border-right: 1px solid #D0D0D0;\\n            padding: 5px;\\n            font-size: 12px !important;\\n            font-weight: normal;\\n        }\\n         #invoiceTable tr:last-child td {\\n            border-bottom: 1px solid #D0D0D0;\\n        }\\n    </style>\\n <table id=\\\"invoiceTable\\\">\\n      \\n    <thead>\\n        <tr>\\n            <th>SN</th>\\n            <th>Item</th>\\n            <th>Description</th>\\n            <!--<th>Circuit Id</th>-->\\n           {% if circuit_id_exists %}\\n            <th>Circuit ID</th>\\n           {% endif %}\\n            <!--<th>Circuit ID</th>-->\\n  \\n            \\n            <th>Quantity</th>\\n            <th>Rate</th>\\n            <th>Amount</th>\\n        </tr>\\n    </thead>\\n    <tbody>\\n      {% for item in doc.items %}\\n<tr>\\n  <td>{{ loop.index }}</td>\\n  <td>  {% if item.item_code %}{{item.item_code }}  {% endif %}</td>\\n  <td>\\n   \\n    {% if item.item_name %}\\n      <p style=\\\"margin-top:4px;\\\">{{ item.item_name }}</p>\\n    {% endif %}\\n    \\n    {% if item.custom_site_info %}\\n      <p>Site Name : {{ item.custom_site_info }}</p>\\n    {% endif %}\\n    \\n    {% if item.custom_solution %}\\n      <p>Solution : {{ item.custom_solution }}</p>\\n    {% endif %}\\n   \\n    \\n    {% if item.custom_item_description %}\\n      <p>Item Description : {{ item.custom_item_description }}</p>\\n    {% endif %}\\n    \\n    {% if item.gst_hsn_code %}\\n      <p> <strong>HSN/SAC : </strong> {{ item.gst_hsn_code }}</p>\\n    {% endif %}\\n  \\n    \\n  </td>\\n     {% if item.custom_circuit_id %}\\n        <td>   {{ item.custom_circuit_id }}\\n     \\n  </td>\\n      {% endif %}\\n \\n  <td> {% if item.qty %}{{ item.qty }} Nos   {% endif %}</td>\\n              <td>  {% if item.rate %}\\u20b9 {{ \\\"{:,.2f}\\\".format(item.rate | float) }} {% endif %}</td>\\n              <td> {% if item.amount %} \\u20b9 {{ \\\"{:,.2f}\\\".format(item.amount | float) }} {% endif %}</td>\\n\\n</tr>\\n{% endfor %} \\n    </tbody>\\n</table>\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Totals\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"{% if doc.total_qty %}\\n<div style=\\\"margin-top:12px\\\"><span style=\\\"color:#424961\\\"> Total Quantity </span> : {{ doc.total_qty }}\\n </div> \\n{% endif %}\\n{% if doc.custom_note %}\\n<div style=\\\"margin-top:12px\\\"><span style=\\\"color:#424961\\\"> Customer Note </span> : {{ doc.custom_note }}\\n </div> \\n{% endif %}\\n\\n{% set company_doc = frappe.get_doc(\\\"Company\\\",doc.company) %}\\n{% set currency_format = frappe.db.get_single_value(\\\"System Settings\\\",\\\"number_format\\\") %}\\n\\n{% set bank_details = {} %}\\n{% set upi_id = namespace(value=\\\"\\\") %}\\n{% set bank_name = namespace(value=\\\"\\\") %}\\n{% set paid_amount = namespace(value=0) %}\\n\\n\\n{% for doc in company_doc.bank_details_for_printing %}\\n\\t{% if doc.print_label == \\\"UPI ID\\\" %}\\n\\t\\t{% set upi_id.value = doc.print_value %}\\n\\t{% elif doc.print_label == \\\"Bank Name\\\" %}\\n\\t\\t{% set bank_name.value = doc.print_value %}\\n\\t{% else %}\\n\\t\\t{% set _ = bank_details.update({doc.print_label: doc.print_value}) %}\\n\\t{% endif %}\\n{% endfor %}\\n\\n{% if doc.rounded_total %}\\n\\t{% set paid_amount.value = frappe.utils.cint(doc.rounded_total) - frappe.utils.cint(doc.outstanding_amount) %}\\n{% else %}\\n\\t{% set paid_amount.value = frappe.utils.cint(doc.grand_total) - frappe.utils.cint(doc.outstanding_amount) %}\\n{% endif %}\\n{% set paid_amount.value = frappe.utils.fmt_money(amount=paid_amount.value, format=currency_format, currency=company_doc.default_currency) %}\\n\\n\\n<div style=\\\"font-size: 12px;\\\" class=\\\"row  data-field\\\" data-fieldname=\\\"paid_amount\\\" data-fieldtype=\\\"Currency\\\">\\n\\t<div class=\\\"col-xs-12\\\">\\n\\t<label>\\t<span>Paid Amount: </span> <span>{{  paid_amount.value  }}</span></label>\\n\\t</div>\\n\\t<!--<div class=\\\"col-xs-4 text-right value\\\">{{  paid_amount.value  }}</div>-->\\n\\t<!--<div class=\\\"col-xs-4 text-right value\\\">{{  paid_amount.value  }}</div>-->\\n</div>\\n\\n<table style=\\\"font-size: 12px;\\\">\\n\\t<tr>\\n\\t\\t{% if doc.outstanding_amount != 0 and upi_id.value != ''  %}\\n\\t\\t\\t<td style=\\\"padding-left:0px !important;width:81px !important;\\\">\\n\\t\\t\\t\\t<div class=\\\"payment_qr\\\">\\n\\t\\t\\t\\t\\t{% set upi_qr_text = 'upi://pay?pa=' ~ upi_id.value ~ '&tn=' ~ doc.name ~ '&cu=INR' %}\\n\\t\\t\\t        {% if doc.outstanding_amount < 100000 %}\\n\\t\\t\\t\\t\\t\\t{% set upi_qr_text = upi_qr_text ~ '&am=' ~ doc.outstanding_amount %}\\n\\t\\t\\t\\t\\t{% endif %}\\n\\t\\t\\t\\t\\t{{ web_block('UPI QR Code', values={'upi_qr_text': upi_qr_text  }) }}\\n\\t\\t\\t\\t</div>\\n\\t\\t\\t\\t<p style=\\\"font-size:8px !important;clear:left;padding-left:26px\\\">UPI QR</p>\\n\\t\\t\\t</td>\\n\\t\\t{% endif %}\\n\\t\\t<!--{% if bank_details %}-->\\n\\t\\t<!--\\t<td style=\\\"padding-top:5px !important;padding-left:0px !important\\\">-->\\n\\t\\t<!--\\t\\t<p><b>Bank Details</b></p>-->\\n\\t\\t<!--\\t\\t<p>{{ bank_name.value }}</p>-->\\n\\t\\t\\t\\t\\n\\t\\t<!--\\t\\t{% for key,value in bank_details.items() %}-->\\n\\t\\t<!--\\t\\t\\t{% if value != None %}-->\\n\\t\\t<!--\\t\\t\\t\\t<p>{{ key }} : {{ value }}</p>-->\\n\\t\\t<!--\\t\\t\\t{% endif %}-->\\n\\t\\t<!--\\t\\t{% endfor %}-->\\n\\t\\t<!--\\t</td>-->\\n\\t\\t<!--{% endif %}-->\\n\\t</tr>\\n</table>\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"<!--<div style=\\\"font-size: 12px; margin-top: 12px;\\\" class=\\\"row data-field\\\" data-fieldname=\\\"customer_note\\\" data-fieldtype=\\\"HTML\\\">-->\\r\\n<!--  <div class=\\\"col-xs-12\\\">-->\\r\\n<!--    <label><strong>Customer Note:</strong></label>-->\\r\\n<!--    <ul style=\\\"list-style-type: none; padding-left: 0; margin-top: 5px;\\\">-->\\r\\n        \\r\\n<!--    </ul>-->\\r\\n<!--  </div>-->\\r\\n<!--</div>-->\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"<div style=\\\"font-size: 12px;margin-bottom:-15px; margin-top:20px;\\\">\\n  {% if doc.total %}\\n    <div class=\\\"first_section_second_column\\\" style=\\\"display: flex; justify-content: flex-end; width: 100%; margin-bottom: 6px;\\\">\\n      <div style=\\\"width: auto; text-align: right; margin-right: 25px;\\\">\\n        <p style=\\\"margin: 0;font-weight:500;font-size: 14px;color:#424961\\\">Total</p>\\n      </div>\\n      <div style=\\\"width:100px; text-align: right;\\\">\\n        <span> {% if doc.total %} \\u20b9 {{ \\\"{:,.2f}\\\".format(doc.total | float) }} {% endif %}</span>\\n      </div>\\n    </div>\\n  {% endif %}\\n</div>\\n\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"<div id=\\\"taxes-section\\\" style=\\\"margin-top:20px;\\\">  <!-- increased margin -->\\n  {% for tax in doc.taxes %}\\n    <div style=\\\"display:flex; justify-content:space-between; margin-bottom:6px;\\\">\\n      <div style=\\\"flex:1; text-align:right; margin-right:5px; font-weight:500; color:#424961; white-space:nowrap;\\\">\\n        {{ tax.description }}\\n        {% if tax.rate %} ({{ tax.rate }}%) {% endif %}\\n      </div>\\n      <div style=\\\"width:120px; text-align:right; font-weight:500;\\\">\\n        \\u20b9 {{ \\\"{:,.2f}\\\".format(tax.tax_amount | float) }}\\n      </div>\\n    </div>\\n  {% endfor %}\\n</div>\\n\"}, {\"fieldname\": \"use_company_roundoff_cost_center\", \"print_hide\": 0, \"label\": \"Use Company default Cost Center for Round off\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"<div style=\\\"font-size: 12px; margin-top:12px\\\">\\r\\n  {% if doc.grand_total %}\\r\\n    <div class=\\\"first_section_second_column\\\" style=\\\"display: flex; justify-content: flex-end; width: 100%; margin-bottom: 6px;\\\">\\r\\n      <div style=\\\"width: auto; text-align: right; margin-right: 25px;\\\">\\r\\n        <p style=\\\"margin: 0;font-weight:500;font-size: 14px;color:#424961\\\"> Grand Total</p>\\r\\n      </div>\\r\\n      <div style=\\\"width:100px; text-align: right;\\\">\\r\\n        <span><b> {% if doc.grand_total %} \\u20b9 {{ \\\"{:,.2f}\\\".format(doc.grand_total | float) }} {% endif %}</b></span>\\r\\n      </div>\\r\\n    </div>\\r\\n  {% endif %}\\r\\n</div>\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"\\r\\n\\r\\n<div style=\\\"font-size: 12px; margin-top:12px\\\">\\r\\n  {% if doc.rounding_adjustment %}\\r\\n    <div class=\\\"first_section_second_column\\\" style=\\\"display: flex; justify-content: flex-end; width: 100%; margin-bottom: 6px;\\\">\\r\\n      <div style=\\\"width: auto; text-align: right; margin-right: 25px;\\\">\\r\\n        <p style=\\\"margin: 0;font-weight:500;font-size: 14px;color:#424961\\\"> Rounding Adjustment</p>\\r\\n      </div>\\r\\n      <div style=\\\"width:100px; text-align: right;\\\">\\r\\n        <span><b> {% if doc.rounding_adjustment %} \\u20b9 {{ \\\"{:,.2f}\\\".format(doc.rounding_adjustment | float) }} {% endif %}</b></span>\\r\\n      </div>\\r\\n    </div>\\r\\n  {% endif %}\\r\\n</div>\\r\\n\\r\\n<div style=\\\"font-size: 12px; margin-top:12px\\\">\\r\\n  {% if doc.total_advance %}\\r\\n    <div class=\\\"first_section_second_column\\\" style=\\\"display: flex; justify-content: flex-end; width: 100%; margin-bottom: 6px;\\\">\\r\\n      <div style=\\\"width: auto; text-align: right; margin-right: 25px;\\\">\\r\\n        <p style=\\\"margin: 0;font-weight:500;font-size: 14px;color:#424961\\\"> Payment Made</p>\\r\\n      </div>\\r\\n      <div style=\\\"width:100px; text-align: right;\\\">\\r\\n        <span><b> {% if doc.total_advance %} \\u20b9 {{ \\\"{:,.2f}\\\".format(doc.total_advance | float) }} {% endif %}</b></span>\\r\\n      </div>\\r\\n    </div>\\r\\n  {% endif %}\\r\\n</div>\\r\\n\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"\\r\\n<div style=\\\"font-size: 12px; margin-top:12px\\\">\\r\\n  {% if doc.rounded_total %}\\r\\n    <div class=\\\"first_section_second_column\\\" style=\\\"display: flex; justify-content: flex-end; width: 100%; margin-bottom: 6px;\\\">\\r\\n      <div style=\\\"width: auto; text-align: right; margin-right: 25px;\\\">\\r\\n        <p style=\\\"margin: 0;font-weight:500;font-size: 14px;color:#424961\\\"> Rounded Total</p>\\r\\n      </div>\\r\\n      <div style=\\\"width:100px; text-align: right;\\\">\\r\\n        <span><b> {% if doc.rounded_total %} \\u20b9 {{ \\\"{:,.2f}\\\".format(doc.rounded_total | float) }} {% endif %}</b></span>\\r\\n      </div>\\r\\n    </div>\\r\\n  {% endif %}\\r\\n</div>\\r\\n\\r\\n<div style=\\\"font-size: 12px; margin-top:12px\\\">\\r\\n  {% if doc.outstanding_amount %}\\r\\n    <div class=\\\"first_section_second_column\\\" style=\\\"display: flex; justify-content: flex-end; width: 100%; margin-bottom: 6px;\\\">\\r\\n      <div style=\\\"width: auto; text-align: right; margin-right: 25px;\\\">\\r\\n        <p style=\\\"margin: 0;font-weight:500;font-size: 14px;color:#424961\\\"> Balance due</p>\\r\\n      </div>\\r\\n      <div style=\\\"width:100px; text-align: right;\\\">\\r\\n        <span><b> {% if doc.outstanding_amount %} \\u20b9 {{ \\\"{:,.2f}\\\".format(doc.outstanding_amount | float) }} {% endif %}</b></span>\\r\\n      </div>\\r\\n    </div>\\r\\n  {% endif %}\\r\\n</div>\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"{% if doc.in_words %}\\n<div style=\\\"margin-top:8px\\\"><span style=\\\"color:#424961\\\"> In Words </span> :\\n<span style=\\\"font-size:12px\\\">{{ doc.in_words }}</span> \\n </div> \\n{% endif %}\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"{% set company_doc = frappe.get_doc(\\\"Company\\\",doc.company) %}\\n{% set currency_format = frappe.db.get_single_value(\\\"System Settings\\\",\\\"number_format\\\") %}\\n\\n{% set bank_details = {} %}\\n{% set upi_id = namespace(value=\\\"\\\") %}\\n{% set bank_name = namespace(value=\\\"\\\") %}\\n{% set paid_amount = namespace(value=0) %}\\n\\n{% for doc in company_doc.bank_details_for_printing %}\\n\\t{% if doc.print_label == \\\"UPI ID\\\" %}\\n\\t\\t{% set upi_id.value = doc.print_value %}\\n\\t{% elif doc.print_label == \\\"Bank Name\\\" %}\\n\\t\\t{% set bank_name.value = doc.print_value %}\\n\\t{% else %}\\n\\t\\t{% set _ = bank_details.update({doc.print_label: doc.print_value}) %}\\n\\t{% endif %}\\n{% endfor %}\\n\\n{% if doc.rounded_total %}\\n\\t{% set paid_amount.value = frappe.utils.cint(doc.rounded_total) - frappe.utils.cint(doc.outstanding_amount) %}\\n{% else %}\\n\\t{% set paid_amount.value = frappe.utils.cint(doc.grand_total) - frappe.utils.cint(doc.outstanding_amount) %}\\n{% endif %}\\n{% set paid_amount.value = frappe.utils.fmt_money(amount=paid_amount.value, format=currency_format, currency=company_doc.default_currency) %}\\n\\n\\n\\n\\n\\n<style>\\n        #invoiceTable {\\n            margin-top:15px;\\n            width: 100%;\\n            border-collapse: collapse;\\n        }\\n        #invoiceTable th {\\n            border: 1px solid #D0D0D0;\\n            \\n            padding: 3px;\\n            text-align: left;\\n            font-weight: bold;\\n            font-size: 11px;\\n            color: #424961;\\n        }\\n        #invoiceTable td {\\n            border-left: 1px solid #D0D0D0;\\n            border-right: 1px solid #D0D0D0;\\n            padding: 5px;\\n            font-size: 11px;\\n            font-weight: normal;\\n        }\\n         #invoiceTable tr:last-child td {\\n            border-bottom: 1px solid #D0D0D0;\\n        }\\n    </style>\\n <table id=\\\"invoiceTable\\\">\\n    <thead>\\n        <tr>\\n            <th>Bank Name</th>\\n            <th>Bank Account</th>\\n            <th>Branch Code</th>\\n            <th>IFSC Code</th>\\n        </tr>\\n    </thead>\\n    <tbody>\\n        <tr>\\n             \\n            <td>{{ bank_name.value }}</td>\\n            <td>{{ bank_details.get('Account No.', '') }}</td>\\n            <td>{{ bank_details.get('Branch', '') }}</td>\\n            <td>{{ bank_details.get('IFSC Code', '') }}</td>\\n        </tr>\\n    </tbody>\\n</table>\"}, {\"fieldtype\": \"Section Break\", \"label\": \"hsn\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"<!--<style>-->\\n<!--        #invoiceTable2 {-->\\n<!--            margin-top:15px;-->\\n<!--            width: 100%;-->\\n<!--            font-size: 12px;-->\\n<!--            border-collapse: collapse;-->\\n<!--        }-->\\n<!--        #invoiceTable2 th {-->\\n<!--            border: 1px solid #D0D0D0;-->\\n<!--            font-size: 12px !important;-->\\n<!--            padding: 3px;-->\\n<!--            text-align: left;-->\\n<!--            font-weight: bold;-->\\n            <!--font-size: 12px;-->\\n<!--            color: #424961;-->\\n<!--        }-->\\n<!--        #invoiceTable2 td {-->\\n<!--            border-left: 1px solid #D0D0D0;-->\\n<!--            border-right: 1px solid #D0D0D0;-->\\n<!--            padding: 5px;-->\\n<!--            text-align:left;-->\\n<!--            font-size: 12px !important;-->\\n<!--            font-weight: normal;-->\\n<!--        }-->\\n<!--         #invoiceTable2 tr:last-child td {-->\\n<!--            border-bottom: 1px solid #D0D0D0;-->\\n<!--        }-->\\n<!--    </style>-->\\n<!-- <table id=\\\"invoiceTable2\\\">-->\\n      \\n<!--    <thead>-->\\n<!--        <tr>-->\\n<!--            <th>HSN/SAC</th>-->\\n<!--            <th>Taxable Amount</th>-->\\n<!--            <th>IGST</th>-->\\n     \\n<!--        </tr>-->\\n<!--    </thead>-->\\n<!--    <tbody>-->\\n<!--      {% for item in doc.items %}-->\\n<!--<tr>-->\\n \\n<!--  <td>-->\\n<!--       {% if item.gst_hsn_code %}-->\\n<!--       {{ item.gst_hsn_code }}-->\\n<!--    {% endif %}-->\\n<!--  </td>-->\\n\\n<!--        <td>  {% if item.taxable_value %} -->\\n<!--        \\u20b9 {{ \\\"{:,.2f}\\\".format(item.taxable_value | float)}}-->\\n<!--      {% endif %}-->\\n<!--  </td>-->\\n    \\n \\n<!--  <td> {% if item.igst_rate %} ({{ item.igst_rate }}%) \\u20b9 {{ \\\"{:,.2f}\\\".format(item.igst_amount | float)}}  {% endif %}</td>-->\\n             \\n<!--</tr>-->\\n<!--{% endfor %} -->\\n<!--    </tbody>-->\\n<!--</table>-->\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"<style>\\n        #invoiceTable4 {\\n            margin-top:15px;\\n            width: 100%;\\n            font-size: 12px;\\n            border-collapse: collapse;\\n        }\\n        #invoiceTable4 th {\\n            border: 1px solid #D0D0D0;\\n            font-size: 12px !important;\\n            padding: 3px;\\n            text-align: left;\\n            font-weight: bold;\\n            /*font-size: 12px;*/\\n            color: #424961;\\n        }\\n        #invoiceTable4 td {\\n            border-left: 1px solid #D0D0D0;\\n            border-right: 1px solid #D0D0D0;\\n            padding: 5px;\\n            text-align:left;\\n            font-size: 12px !important;\\n            font-weight: normal;\\n        }\\n         #invoiceTable4 tr:last-child td {\\n            border-bottom: 1px solid #D0D0D0;\\n        }\\n    </style>\\n <table id=\\\"invoiceTable4\\\">\\n      \\n    <thead>\\n        <tr>\\n            <th>SN</th>\\n            <th>Payment Term</th>\\n            <th>Outstanding</th>\\n            <th>Invoice Portion</th>\\n            <th>Due Date</th>\\n     \\n        </tr>\\n    </thead>\\n    <tbody>\\n      {% for item in doc.payment_schedule %}\\n<tr>\\n \\n  <td>\\n      {{ loop.index }}\\n  </td>\\n\\n        <td>  {% if item.payment_term %} {{ item.payment_term }}\\n      {% endif %}\\n  </td>\\n  \\n    \\n<td>{% if item.outstanding %}   \\n\\u20b9 {{ \\\"{:,.2f}\\\".format(item.outstanding | float)}}\\n  {% endif %}</td>\\n\\n<td>{% if item.invoice_portion %} {{ \\\"{:.1f}\\\".format(item.invoice_portion | float) }}%  {% endif %}</td> \\n<td>{% if item.due_date %}{{item.due_date}}  {% endif %}</td> \\n\\n</tr>\\n{% endfor %} \\n    </tbody>\\n</table>\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"<!--Transporter Details-->\\n{% if doc.transporter_name or doc.vehicle_no or doc.lr_no or doc.ewaybill %}\\n<div class=\\\"first_section_second_column\\\">\\n    <p><b>Transporter Details</b></p>\\n    {% if doc.transporter_name %}\\n        <p>{{ doc.transporter_name }}</p>\\n    {% endif %} \\n    {% if doc.vehicle_no %}\\n        <p>Vehicle No: {{ doc.vehicle_no }}</p>\\n    {% endif %} \\n    {% if doc.lr_no %}\\n        <p>LR No: {{ doc.lr_no }}</p>\\n    {% endif %} \\n    {% if doc.ewaybill %}\\n        <p>e-Waybill No: {{ doc.ewaybill }}</p>\\n    {% endif %}\\n</div>\\n{% endif %}\\n\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\"}, {\"fieldtype\": \"Section Break\", \"label\": \"Terms and Conditions\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"<div><span style=\\\"font-weight:700\\\">Declarations :</span> Certified that the Particulars given above are true and correct.</div>\\n\\n<ul>\\n     <li><div>We hereby confirm that TDS has to be deducted at the rate of 2% on the technical fees as per Section 194J of the Income Tax Act, 1961.</div>\\n</li>\\n     <li><div>Any complaints regarding this invoice must be raised within 24 hours of receipt. Kindly mention the Invoice Number in all remittance or payment communications.\\n\\n</div>\\n</li>\\n</ul>\\n     \"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"{% if doc.irn %}\\r\\n{% set e_invoice_log = frappe.db.get_value( \\\"e-Invoice Log\\\", doc.irn,\\r\\n(\\\"invoice_data\\\", \\\"signed_qr_code\\\"), as_dict=True ) %}\\r\\n\\r\\n{% if e_invoice_log %}\\r\\n{% set invoice_data = json.loads(e_invoice_log.invoice_data) %}\\r\\n{% set date_format = frappe.db.get_single_value(\\\"System Settings\\\",'date_format').replace(\\\"mm\\\",\\\"MM\\\")\\r\\n%}\\r\\n\\r\\n\\r\\n<div style=\\\"padding-top:5px !important; display:flex; gap:12px\\\">\\r\\n\\t<!-- invoice qr  -->\\r\\n\\t<div style=\\\"padding-bottom:5px !important ; width:100px\\\">\\r\\n\\t\\t{{ web_block('e-Invoice QR', values={'e_invoice_qr_text':\\r\\n\\t\\te_invoice_log.signed_qr_code }) }}\\r\\n\\t</div>\\r\\n<div style=\\\"padding-top:5px !important;\\\">\\r\\n\\r\\n\\r\\n\\r\\n\\t<p class=\\\"field-property\\\" style=\\\"font-size:13px\\\">\\r\\n\\t\\t<b>IRN : </b>{{ doc.irn }}\\r\\n\\t</p>\\r\\n\\t<p class=\\\"field-property\\\" style=\\\"font-size:13px\\\">\\r\\n\\t\\t<b>Ack No. :</b> {{ invoice_data.get(\\\"AckNo\\\") if doc.irn and invoice_data.get(\\\"AckNo\\\")\\r\\n\\t\\telse '' }}\\r\\n\\t</p>\\r\\n\\t<p class=\\\"field-property\\\" style=\\\"font-size:13px\\\">\\r\\n\\t\\t<b>Ack Dt. :</b>\\r\\n\\t\\t{{ frappe.utils.format_datetime(invoice_data.get(\\\"AckDt\\\"),date_format) if doc.irn and\\r\\n\\t\\tinvoice_data.get(\\\"AckDt\\\") else '' }}\\r\\n\\t</p>\\r\\n\\t<div style=\\\"margin-top:10px font-size:10px \\\">e-Invoicing detail(s) generated from the Government's e-Invoicing system.</div>\\r\\n</div>\\r\\n</div>\\r\\n{% endif %}\\r\\n{% endif %}\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"{% set all_details = {} %}\\r\\n\\r\\n{% set company_doc = frappe.get_doc(\\\"Company\\\",doc.company) %}\\r\\n\\r\\n{% for doc in company_doc.registration_details_for_printing %}\\r\\n\\t{% set _ = all_details.update({doc.print_label: doc.print_value}) %}\\r\\n{% endfor %}\\r\\n\\r\\n<!--<table class=\\\"company-details\\\">-->\\r\\n<!--\\t<tr>-->\\r\\n<!--\\t\\t{% for key,value in all_details.items() %}-->\\r\\n<!--\\t\\t\\t{% if value != None %}-->\\r\\n<!--\\t\\t\\t    <td>-->\\r\\n<!--\\t\\t\\t\\t    <p> <b>{{ key }} :</b> {{ value }}</p>-->\\r\\n<!--\\t\\t\\t    </td>-->\\r\\n<!--\\t\\t\\t{% endif %}-->\\r\\n<!--\\t\\t\\t{% if loop.index % 2 == 0 and not loop.last %}-->\\r\\n<!--\\t\\t\\t\\t\\t</tr>-->\\r\\n<!--\\t\\t\\t\\t\\t<tr>-->\\r\\n<!--\\t\\t\\t{% endif %}-->\\r\\n<!--\\t\\t{% endfor %}-->\\r\\n<!--\\t</tr>-->\\r\\n<!--</table>-->\\r\\n\\r\\n{% if company_doc.show_physical_signature == 0 %}\\r\\n{% set first_name = frappe.db.get_value(\\\"User\\\",doc.owner,\\\"first_name\\\")  %}\\r\\n{% set last_name  = frappe.db.get_value(\\\"User\\\",doc.owner,\\\"last_name\\\")   %}\\r\\n{% set generated_by = first_name ~ (' ' ~ last_name if last_name else '') %}\\r\\n\\r\\n<table class=\\\"company-details\\\">\\r\\n\\t\\r\\n</table>\\r\\n{% else %}\\r\\n<table style=\\\"width:60%;float:right; font-size:13px;\\\">\\r\\n\\t\\t<tr style=\\\"text-align:end;\\\">\\r\\n\\t\\t\\t<td><p style=\\\"word-break: break-word;\\\">For <b>{{ doc.company }}</b></p></td>\\r\\n\\t\\t</tr>\\r\\n\\t\\t<!--<tr><td></td></tr>-->\\r\\n\\t\\t<!--<tr><td></td></tr>-->\\r\\n\\t\\t<tr>\\r\\n\\t\\t\\t<td style=\\\"text-align: right;\\\">\\r\\n\\t\\t\\t    <div style=\\\"display: flex; align-items: center; justify-content: flex-end; gap: 8px; margin-top: 10px;\\\">\\r\\n        <span><b>Authorized By</b></span>\\r\\n\\r\\n        {% if company_doc.physical_signature %}\\r\\n          <!-- Show physical signature -->\\r\\n          <img src=\\\"{{ company_doc.physical_signature }}\\\" alt=\\\"Signature\\\" style=\\\"height:50px;\\\" />\\r\\n        {% else %}\\r\\n          <!-- Show blank line -->\\r\\n          <span style=\\\"border-bottom: 1px solid #000; margin-top:10px; magin-left:10px; width: 150px;\\\"></span>\\r\\n        {% endif %}\\r\\n      </div>\\r\\n\\r\\n\\t\\t\\t</td>\\r\\n\\t\\t\\r\\n\\t\\t</tr>\\r\\n</table>\\r\\n{% endif %}\\r\\n <!--{% if company_doc.physical_signature %}-->\\r\\n          <!-- Show physical signature if available -->\\r\\n <!--         <img src=\\\"{{ company_doc.physical_signature }}\\\" alt=\\\"Signature\\\" style=\\\"height:50px; margin-top:5px;\\\" />-->\\r\\n <!--       {% else %}-->\\r\\n          <!-- Show blank signature line -->\\r\\n <!--         <div style=\\\"border-bottom: 1px solid #000; width: 150px; margin: 10px 0 0 auto;\\\"></div>-->\\r\\n <!--       {% endif %}-->\\r\\n{% if company_doc.show_physical_signature == 0 %}\\r\\n<p style=\\\"width:100%;text-align: end;\\\">This is computer-generated document and no signature is required</p>\\r\\n{% endif %}\\r\\n\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \"\"}, {\"fieldname\": \"_custom_html\", \"print_hide\": 0, \"label\": \"Custom HTML\", \"fieldtype\": \"HTML\", \"options\": \" <style>\\r\\n        /* Ensure footer stays at the bottom of every printed page */\\r\\n       @media print {\\r\\n            @page {\\r\\n                margin: 15mm 15mm 10mm 15mm; \\r\\n            }\\r\\n         \\r\\n            .footer2 {\\r\\n                position: fixed;\\r\\n                bottom: 0;\\r\\n                width: 100%;\\r\\n                text-align: center;\\r\\n                font-size: 12px;\\r\\n                margin-bottom:5px !important;\\r\\n                /*border-top: 1px solid #000;*/\\r\\n\\r\\n            \\r\\n            }\\r\\n        }\\r\\n    </style>\\r\\n    \\r\\n    <div class=\\\"footer2\\\" style=\\\"margin-top:20px\\\">\\r\\n    <div style=\\\"border-top: 2px solid #000; padding-top: 4px; text-align:left\\\">\\r\\n        Nexapp Connecting People, Places and Things\\r\\n    </div>\\r\\n    <div id=\\\"currentYearText\\\" style=\\\"text-align: right; margin-top:-20px\\\">\\r\\n      www.nexapp.co.in\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n\"}]",
 "idx": 0,
 "line_breaks": 0,
 "margin_bottom": 15.0,
 "margin_left": 15.0,
 "margin_right": 15.0,
 "margin_top": 15.0,
 "modified": "2025-12-01 18:25:13.089210",
 "modified_by": "Administrator",
 "module": "Nexapp",
 "name": "Nexapp- Invoice",
 "owner": "pradeep@nexapp.co.in",
 "page_number": "Bottom Right",
 "pdf_generator": "wkhtmltopdf",
 "print_designer": 0,
 "print_designer_template_app": "print_designer",
 "print_format_builder": 0,
 "print_format_builder_beta": 0,
 "print_format_type": "Jinja",
 "raw_printing": 0,
 "show_section_headings": 0,
 "standard": "Yes"
}