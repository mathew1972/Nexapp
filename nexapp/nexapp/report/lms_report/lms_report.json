{
 "add_total_row": 0,
 "add_translate_data": 0,
 "columns": [],
 "creation": "2025-11-21 15:42:12.020428",
 "disabled": 0,
 "docstatus": 0,
 "doctype": "Report",
 "filters": [],
 "idx": 0,
 "is_standard": "Yes",
 "letter_head": "Nexapp",
 "letterhead": null,
 "modified": "2025-11-21 16:09:39.729632",
 "modified_by": "Administrator",
 "module": "Nexapp",
 "name": "LMS Report",
 "owner": "Administrator",
 "prepared_report": 0,
 "query": "SELECT\n    lms.name AS \"LMS ID\",\n    lms.circuit_id AS \"Circuit ID\",\n    lms.site_id__legal_code AS \"Site ID\",\n    lms.territory AS \"Zone\",\n    lms.customer AS \"Customer Name\",\n    lms.site AS \"Site Name\",\n    lms.site_address AS \"Address\",\n    lms.lms_stage AS \"LMS Stage\",\n\n    -- Project Status from Site\n    site.site_status AS \"Project Status\",\n\n    -- CKT Create Date (DD-MM-YYYY)\n    DATE_FORMAT(site.creation, '%%d-%%m-%%Y') AS \"CKT Create Date\",\n\n    lms.supplier AS \"Supplier\",\n\n    -- LMS Master creation date\n    DATE_FORMAT(lms.creation, '%%d-%%m-%%Y') AS \"LMS Create Date\",\n\n    -- PO Requested Date\n    DATE_FORMAT(lms.po_requested_date, '%%d-%%m-%%Y') AS \"PO Requested Date\",\n\n    -- PO Create Date\n    DATE_FORMAT(lms.po_released_datetime, '%%d-%%m-%%Y') AS \"PO Create Date\",\n\n    -- Delivery Date\n    DATE_FORMAT(lms.lms_delivery_date, '%%d-%%m-%%Y') AS \"Delivery Date\",\n\n    -- CKT ID Aging (after Delivery Date)\n    CASE \n        WHEN site.creation IS NOT NULL \n            THEN DATEDIFF(CURDATE(), DATE(site.creation))\n        ELSE NULL\n    END AS \"CKT ID Aging\",\n\n    -- LMS ID Aging (correct logic)\n    DATEDIFF(CURDATE(), DATE(lms.creation)) AS \"LMS ID Aging\",\n\n    lms.bandwith_type AS \"Bandwidth Type\",\n    lms.lms_brandwith_name AS \"Bandwidth\"\n\nFROM `tabLastmile Services Master` lms\nLEFT JOIN `tabSite` site\n    ON lms.circuit_id = site.name\n\nORDER BY lms.creation DESC;\n",
 "ref_doctype": "Lastmile Services Master",
 "report_name": "LMS Report",
 "report_type": "Query Report",
 "roles": [
  {
   "role": "System Manager"
  },
  {
   "role": "LMS Manager"
  },
  {
   "role": "LMS User"
  },
  {
   "role": "Project Co-Ordinator"
  },
  {
   "role": "Projects User"
  },
  {
   "role": "Projects Manager"
  },
  {
   "role": "Nexapp Project Manager"
  }
 ],
 "timeout": 0
}