{
 "add_total_row": 0,
 "add_translate_data": 0,
 "columns": [],
 "creation": "2025-07-03 00:38:14.242036",
 "disabled": 0,
 "docstatus": 0,
 "doctype": "Report",
 "filters": [],
 "idx": 0,
 "is_standard": "Yes",
 "letter_head": "Nexapp",
 "letterhead": null,
 "modified": "2025-07-05 18:26:06.466967",
 "modified_by": "Administrator",
 "module": "Nexapp",
 "name": "Billing - Cost wise",
 "owner": "Administrator",
 "prepared_report": 0,
 "query": "SELECT\n    so.name AS \"Sales Order No:Link/Sales Order:150\",\n    so.customer AS \"Customer:Link/Customer:150\",\n    so.order_type AS \"Order Type:Data:100\",\n    so.po_no AS \"PO No:Data:120\",\n    so.po_date AS \"PO Date:Date:100\",\n\n    soi.custom_feasibility AS \"Site ID:Link/Site:150\",\n    soi.custom_solution AS \"Solution:Data:120\",\n    soi.item_name AS \"Item Name:Data:150\",\n    soi.rate AS \"Rate:Currency:100\",\n    soi.qty AS \"Qty:Float:60\",\n    soi.amount AS \"SO Amount:Currency:120\",\n\n    s.site_status AS \"Site Status:Data:120\",\n    s.date AS \"Circuit Delivery Date:Date:120\",\n\n    -- New fields from Task Circuit ID\n    t.item AS \"OTC:Data:120\",\n    t.custom_mrc AS \"MRC:Currency:100\",\n    t.recurring AS \"ARC:Currency:100\",\n\n    -- Check if Site ID is billed using Sales Invoice Item\n    IF(EXISTS (\n        SELECT 1\n        FROM `tabSales Invoice Item` sii\n        INNER JOIN `tabSales Invoice` si ON si.name = sii.parent\n        WHERE\n            si.docstatus = 1\n            AND sii.custom_circuit_id = soi.custom_feasibility\n    ), 'Yes', 'No') AS \"Billed:Data:80\"\n\nFROM `tabSales Order` so\n\nLEFT JOIN `tabSales Order Item` soi\n    ON so.name = soi.parent\n\nLEFT JOIN `tabSite` s\n    ON soi.custom_feasibility = s.name\n\nLEFT JOIN `tabTask Circuit ID` t\n    ON t.circuit_id = soi.custom_feasibility\n\nWHERE\n    so.docstatus = 1\n    AND s.site_status = 'Delivered and Live'\n    AND soi.rate > 0\n\nORDER BY so.po_date DESC;\n",
 "ref_doctype": "Sales Order",
 "report_name": "Billing - Cost wise",
 "report_type": "Query Report",
 "roles": [
  {
   "role": "Nexapp Sales Manager"
  },
  {
   "role": "Desk User"
  },
  {
   "role": "Sales User"
  },
  {
   "role": "System Manager"
  },
  {
   "role": "Maintenance User"
  },
  {
   "role": "Maintenance Manager"
  },
  {
   "role": "Administrator"
  },
  {
   "role": "Sales Manager"
  },
  {
   "role": "Support Manager"
  },
  {
   "role": "L2 Support"
  },
  {
   "role": "L1 Support"
  },
  {
   "role": "Projects Manager"
  },
  {
   "role": "Data Analyst"
  },
  {
   "role": "CRM User"
  },
  {
   "role": "CRM-Sales Manager Standard"
  },
  {
   "role": "accounts receivable"
  },
  {
   "role": "CRM MIS"
  },
  {
   "role": "Accounts  & Finance Manager"
  },
  {
   "role": "Account Receivable User"
  },
  {
   "role": "LMS Manager"
  },
  {
   "role": "CRM-Inside Sales"
  },
  {
   "role": "Stock Manager"
  },
  {
   "role": "Projects User"
  },
  {
   "role": "Project Co-Ordinator"
  },
  {
   "role": "LMS User"
  },
  {
   "role": "LMS User-1"
  },
  {
   "role": "Account Payable"
  }
 ],
 "timeout": 0
}